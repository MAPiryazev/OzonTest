## Установка и запуск 

1. Склонировать репозиторий в удобную папку `git clone https://github.com/MAPiryazev/OzonTest`
2. Перейти в папку репозитория
3. Собрать образ сервиса `docker compose build`
4. Запустить сервис `docker compose up -d`
5. Открыть `http://localhost:8080/`
6. Далее в открывшемся окне можно взаимодействовать с graphql

## Обзор

Данный сервис выступает в роли GraphQL API где можно:
1. Регистрироваться (созадвать пользователя)
2. Создавать посты
3. Оставлять комментарии 
4. Получать комментарии
5. Получать посты
6. Пользователь может запрещать комметарии к своим постам
7. Выбор режимов хранения данных и другие настройки осуществляются с помощью параметров в environment/.env 

Есть тесты для слоя service, можно запустить их командой `cd internal/test && go test ./... -v`
При генерации моков использовался инструмент mockgen

4 уровня архитектуры: repository, service, handler, resolver
Сервис работает в docker 

## TODO

- Расширенная валидация данных 
- Кеширование для частых запрсов и популярных постов
- Больше тестов 
- Более продвинут архитектура хранилища для объектов

Если на словах, то логику валидации можно было бы отделить от service слоя, и сделать ее с go-playground/validator/v10.   
В реализации кеша для частых запросов или популярных объектов можно было бы исползьзовать LRU подход или же хранение некоторых объектов в Redis 